{% extends 'settings/settings_page.html' %}

{% block settings_title %} Account Details {% endblock %}
{% block subhead %}
    {% load static %} <link rel="stylesheet" type="text/css" href="{% static 'settings/css/account-details.css' %}">
{% endblock %}

{% block settings_content %} 
    <!-- Email Form -->
    <div class="form-section">
        <h2>Update Email</h2>
        <form id="username-form" class="form-container" action="/profiles/email/" method="POST" data-message-box="username-message-box" autocomplete="off">
            {% csrf_token %}
            <label for="email">Current Email: {{ user.username }}</label>
            <input type="text" id="username" name="email" placeholder="{{ user.username }}" required>
            <input type="submit" value="Update Email">
        </form>
        <div id="username-message-box" class="message-box"></div>
    </div>

    <!-- Password Form -->
    <div class="form-section">
        <h2>Change Password</h2>
        <form id="password-form" class="form-container" action="/profiles/password/" method="POST" data-message-box="password-message-box" autocomplete="off">
            {% csrf_token %}
            <label for="new-password">Current Password: encoded</label>
            <div class="password-wrapper">
                <input type="password" id="new-password" name="password" required>
                <button type="button" id="toggle-password" class="toggle-button">Show</button>
            </div>
            <input type="submit" value="Change Password">
        </form>
        <div id="password-message-box" class="message-box"></div>
    </div>

    {% load static %} <script src="{% static 'settings/js/password_input.js' %}"></script>
{% endblock %}